{"mappings":"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","sources":["packages/@react-spectrum/calendar/src/CalendarBase.tsx"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {ActionButton} from '@react-spectrum/button';\nimport {AriaButtonProps} from '@react-types/button';\nimport {CalendarMonth} from './CalendarMonth';\nimport {CalendarPropsBase} from '@react-types/calendar';\nimport {CalendarState, RangeCalendarState} from '@react-stately/calendar';\nimport ChevronLeft from '@spectrum-icons/ui/ChevronLeftLarge';\nimport ChevronRight from '@spectrum-icons/ui/ChevronRightLarge';\nimport {classNames, useStyleProps} from '@react-spectrum/utils';\nimport {DOMProps, RefObject, StyleProps} from '@react-types/shared';\nimport {HelpText} from '@react-spectrum/label';\n// @ts-ignore\nimport intlMessages from '../intl/*.json';\nimport React, {HTMLAttributes, JSX} from 'react';\nimport styles from '@adobe/spectrum-css-temp/components/calendar/vars.css';\nimport {useDateFormatter, useLocale, useLocalizedStringFormatter} from '@react-aria/i18n';\nimport {VisuallyHidden} from '@react-aria/visually-hidden';\n\ninterface CalendarBaseProps<T extends CalendarState | RangeCalendarState> extends CalendarPropsBase, DOMProps, StyleProps {\n  state: T,\n  visibleMonths?: number,\n  calendarProps: HTMLAttributes<HTMLElement>,\n  nextButtonProps: AriaButtonProps,\n  prevButtonProps: AriaButtonProps,\n  errorMessageProps: HTMLAttributes<HTMLElement>,\n  calendarRef: RefObject<HTMLDivElement | null>\n}\n\nexport function CalendarBase<T extends CalendarState | RangeCalendarState>(props: CalendarBaseProps<T>) {\n  let {\n    state,\n    calendarProps,\n    nextButtonProps,\n    prevButtonProps,\n    errorMessageProps,\n    calendarRef: ref,\n    visibleMonths = 1\n  } = props;\n  let {styleProps} = useStyleProps(props);\n  let stringFormatter = useLocalizedStringFormatter(intlMessages, '@react-spectrum/calendar');\n  let {direction} = useLocale();\n  let currentMonth = state.visibleRange.start;\n  let monthDateFormatter = useDateFormatter({\n    month: 'long',\n    year: 'numeric',\n    era: currentMonth.calendar.identifier === 'gregory' && currentMonth.era === 'BC' ? 'short' : undefined,\n    calendar: currentMonth.calendar.identifier,\n    timeZone: state.timeZone\n  });\n\n  let titles: JSX.Element[] = [];\n  let calendars: JSX.Element[] = [];\n  for (let i = 0; i < visibleMonths; i++) {\n    let d = currentMonth.add({months: i});\n    titles.push(\n      <div key={i} className={classNames(styles, 'spectrum-Calendar-monthHeader')}>\n        {i === 0 &&\n          <ActionButton\n            {...prevButtonProps}\n            UNSAFE_className={classNames(styles, 'spectrum-Calendar-prevMonth')}\n            isQuiet>\n            {direction === 'rtl' ? <ChevronRight /> : <ChevronLeft />}\n          </ActionButton>\n        }\n        <h2\n          // We have a visually hidden heading describing the entire visible range,\n          // and the calendar itself describes the individual month\n          // so we don't need to repeat that here for screen reader users.\n          aria-hidden\n          className={classNames(styles, 'spectrum-Calendar-title')}>\n          {monthDateFormatter.format(d.toDate(state.timeZone))}\n        </h2>\n        {i === visibleMonths - 1 &&\n          <ActionButton\n            {...nextButtonProps}\n            UNSAFE_className={classNames(styles, 'spectrum-Calendar-nextMonth')}\n            isQuiet>\n            {direction === 'rtl' ? <ChevronLeft /> : <ChevronRight />}\n          </ActionButton>\n        }\n      </div>\n    );\n\n    calendars.push(\n      <CalendarMonth\n        {...props}\n        key={i}\n        state={state}\n        startDate={d} />\n    );\n  }\n\n  return (\n    <div\n      {...styleProps}\n      {...calendarProps}\n      ref={ref}\n      className={\n        classNames(styles,\n          'spectrum-Calendar',\n          styleProps.className\n        )\n      }>\n      {/* Add a screen reader only description of the entire visible range rather than\n        * a separate heading above each month grid. This is placed first in the DOM order\n        * so that it is the first thing a touch screen reader user encounters.\n        * In addition, VoiceOver on iOS does not announce the aria-label of the grid\n        * elements, so the aria-label of the Calendar is included here as well. */}\n      <VisuallyHidden>\n        <h2>{calendarProps['aria-label']}</h2>\n      </VisuallyHidden>\n      <div className={classNames(styles, 'spectrum-Calendar-header')}>\n        {titles}\n      </div>\n      <div className={classNames(styles, 'spectrum-Calendar-months')}>\n        {calendars}\n      </div>\n      {/* For touch screen readers, add a visually hidden next button after the month grid\n        * so it's easy to navigate after reaching the end without going all the way\n        * back to the start of the month. */}\n      <VisuallyHidden>\n        <button\n          aria-label={nextButtonProps['aria-label']}\n          disabled={nextButtonProps.isDisabled}\n          onClick={() => state.focusNextPage()}\n          tabIndex={-1} />\n      </VisuallyHidden>\n      {state.isValueInvalid &&\n        <HelpText\n          showErrorIcon\n          errorMessage={props.errorMessage || stringFormatter.format('invalidSelection', {selectedCount: 'highlightedRange' in state ? 2 : 1})}\n          errorMessageProps={errorMessageProps}\n          isInvalid\n          // Intentionally a global class name so it can be targeted in DatePicker CSS...\n          UNSAFE_className=\"spectrum-Calendar-helpText\" />\n      }\n    </div>\n  );\n}\n"],"names":[],"version":3,"file":"CalendarBase.main.js.map"}